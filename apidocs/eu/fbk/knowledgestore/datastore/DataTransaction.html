<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_51) on Thu Nov 26 14:51:02 CET 2015 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>DataTransaction (ks 1.6.2 API)</title>
<meta name="date" content="2015-11-26">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DataTransaction (ks 1.6.2 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DataTransaction.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../eu/fbk/knowledgestore/datastore/DataStore.html" title="interface in eu.fbk.knowledgestore.datastore"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../eu/fbk/knowledgestore/datastore/ForwardingDataStore.html" title="class in eu.fbk.knowledgestore.datastore"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?eu/fbk/knowledgestore/datastore/DataTransaction.html" target="_top">Frames</a></li>
<li><a href="DataTransaction.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">eu.fbk.knowledgestore.datastore</div>
<h2 title="Interface DataTransaction" class="title">Interface DataTransaction</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../eu/fbk/dkm/elastic/datastore/DataTransactionElastic.html" title="class in eu.fbk.dkm.elastic.datastore">DataTransactionElastic</a>, <a href="../../../../eu/fbk/knowledgestore/datastore/ForwardingDataTransaction.html" title="class in eu.fbk.knowledgestore.datastore">ForwardingDataTransaction</a>, <a href="../../../../eu/fbk/knowledgestore/datastore/hbase/HBaseDataTransaction.html" title="class in eu.fbk.knowledgestore.datastore.hbase">HBaseDataTransaction</a>, <a href="../../../../eu/fbk/knowledgestore/datastore/LoggingDataStore.LoggingDataTransaction.html" title="class in eu.fbk.knowledgestore.datastore">LoggingDataStore.LoggingDataTransaction</a>, <a href="../../../../eu/fbk/knowledgestore/datastore/MySQLDataStore.MySQLTransaction.html" title="class in eu.fbk.knowledgestore.datastore">MySQLDataStore.MySQLTransaction</a>, <a href="../../../../eu/fbk/knowledgestore/datastore/SolrDataStore.SolrTransaction.html" title="class in eu.fbk.knowledgestore.datastore">SolrDataStore.SolrTransaction</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">DataTransaction</span></pre>
<div class="block">A <code>DataStore</code> transaction.
 <p>
 A <code>DataTransaction</code> is a unit of work over the contents of a <a href="../../../../eu/fbk/knowledgestore/datastore/DataStore.html" title="interface in eu.fbk.knowledgestore.datastore"><code>DataStore</code></a> that
 provides atomicity (i.e., changes are either completely stored or discarded), isolation (i.e.,
 other transaction do not see the modifications of this transaction) and durability (i.e.,
 changes are persisted across different program runs) guarantees.
 </p>
 <p>
 A <tt>DataTransaction</tt> supports the following features:
 </p>
 <ul>
 <li>Lookup of records by ID, via method <a href="../../../../eu/fbk/knowledgestore/datastore/DataTransaction.html#lookup-org.openrdf.model.URI-java.util.Set-java.util.Set-"><code>lookup(URI, Set, Set)</code></a>;</li>
 <li>Matching of records based on type and optional condition, consisting either in the
 retrieval of (selected properties of) matching records (method
 <a href="../../../../eu/fbk/knowledgestore/datastore/DataTransaction.html#retrieve-org.openrdf.model.URI-eu.fbk.knowledgestore.data.XPath-java.util.Set-"><code>retrieve(URI, XPath, Set)</code></a>) or of their count (method <a href="../../../../eu/fbk/knowledgestore/datastore/DataTransaction.html#count-org.openrdf.model.URI-eu.fbk.knowledgestore.data.XPath-"><code>count(URI, XPath)</code></a>);</li>
 <li>Matching of record combinations (method <a href="../../../../eu/fbk/knowledgestore/datastore/DataTransaction.html#match-java.util.Map-java.util.Map-java.util.Map-"><code>match(Map, Map, Map)</code></a>);</li>
 <li>Storing and deletion of single records (methods <a href="../../../../eu/fbk/knowledgestore/datastore/DataTransaction.html#store-org.openrdf.model.URI-eu.fbk.knowledgestore.data.Record-"><code>store(URI, Record)</code></a>,
 <a href="../../../../eu/fbk/knowledgestore/datastore/DataTransaction.html#delete-org.openrdf.model.URI-org.openrdf.model.URI-"><code>delete(URI, URI)</code></a>).</li>
 </ul>
 <p>
 Note that the latter modification methods are not available for read-only transactions (an
 <a href="http://java.sun.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang"><code>IllegalStateException</code></a> is thrown in that case); moreover, they can return to the caller
 even if the operation has not yet completed (e.g., due to buffering), in which case it is
 however guaranteed that following read operation will be able to see newly written data. For
 all methods accepting a type URI parameter, that parameter can only be one of the supported
 record types listed in <a href="../../../../eu/fbk/knowledgestore/datastore/DataStore.html#SUPPORTED_TYPES"><code>DataStore.SUPPORTED_TYPES</code></a>.
 </p>
 <p>
 Transactions are terminated via <a href="../../../../eu/fbk/knowledgestore/datastore/DataTransaction.html#end-boolean-"><code>end(boolean)</code></a>, whose parameter specifies whether
 changes should be committed or not (this doesn't matter for read-only transactions). Method
 <code>end()</code> has always the effect of terminating the transaction: if it throws an exception a
 rollback must be assumed, even if a commit was asked. In case the JVM is abruptly shutdown
 during a transaction, the effects of the transaction should be the same as if a rollback was
 performed. As a particular case of <tt>IOException</tt>, method <code>end()</code> may throw a
 <a href="../../../../eu/fbk/knowledgestore/runtime/DataCorruptedException.html" title="class in eu.fbk.knowledgestore.runtime"><code>DataCorruptedException</code></a> in case neither a commit or rollback were possible and the
 <code>DataStore</code> is left in some unpredictable state with no possibility of automatic
 recovery.
 </p>
 <p>
 <code>DataTransaction</code> objects are not required to be thread safe. Access by at most one
 thread at a time is guaranteed externally. However, it must be allowed for operations to be
 issued while streams from previous operations are still open; if a stream is open and a write
 operations is performed that affects one of the objects still to be returned by the stream (or
 made an object returnable/not returnable by the stream), then it is allowed for the stream both
 to return the previous state of the object or to return the new state.
 </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/fbk/knowledgestore/datastore/DataTransaction.html#count-org.openrdf.model.URI-eu.fbk.knowledgestore.data.XPath-">count</a></span>(org.openrdf.model.URI&nbsp;type,
     <a href="../../../../eu/fbk/knowledgestore/data/XPath.html" title="class in eu.fbk.knowledgestore.data">XPath</a>&nbsp;condition)</code>
<div class="block">Counts the records having the type and matching the optional condition specified.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/fbk/knowledgestore/datastore/DataTransaction.html#delete-org.openrdf.model.URI-org.openrdf.model.URI-">delete</a></span>(org.openrdf.model.URI&nbsp;type,
      org.openrdf.model.URI&nbsp;id)</code>
<div class="block">Deletes the record stored in the <code>DataStore</code> with the ID specified.A record may or
 may not be stored for the specified ID; in case it exists, it is deleted by the operation.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/fbk/knowledgestore/datastore/DataTransaction.html#end-boolean-">end</a></span>(boolean&nbsp;commit)</code>
<div class="block">Ends the transaction, either committing or rolling back its changes (if any).</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../../eu/fbk/knowledgestore/data/Stream.html" title="class in eu.fbk.knowledgestore.data">Stream</a>&lt;<a href="../../../../eu/fbk/knowledgestore/data/Record.html" title="class in eu.fbk.knowledgestore.data">Record</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/fbk/knowledgestore/datastore/DataTransaction.html#lookup-org.openrdf.model.URI-java.util.Set-java.util.Set-">lookup</a></span>(org.openrdf.model.URI&nbsp;type,
      <a href="http://java.sun.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;? extends org.openrdf.model.URI&gt;&nbsp;ids,
      <a href="http://java.sun.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;? extends org.openrdf.model.URI&gt;&nbsp;properties)</code>
<div class="block">Returns a stream of records having the type and IDs specified.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../eu/fbk/knowledgestore/data/Stream.html" title="class in eu.fbk.knowledgestore.data">Stream</a>&lt;<a href="../../../../eu/fbk/knowledgestore/data/Record.html" title="class in eu.fbk.knowledgestore.data">Record</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/fbk/knowledgestore/datastore/DataTransaction.html#match-java.util.Map-java.util.Map-java.util.Map-">match</a></span>(<a href="http://java.sun.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;org.openrdf.model.URI,<a href="../../../../eu/fbk/knowledgestore/data/XPath.html" title="class in eu.fbk.knowledgestore.data">XPath</a>&gt;&nbsp;conditions,
     <a href="http://java.sun.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;org.openrdf.model.URI,<a href="http://java.sun.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;org.openrdf.model.URI&gt;&gt;&nbsp;ids,
     <a href="http://java.sun.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;org.openrdf.model.URI,<a href="http://java.sun.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;org.openrdf.model.URI&gt;&gt;&nbsp;properties)</code>
<div class="block">Evaluates a <code>match</code> request with the parameters supplied.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../../eu/fbk/knowledgestore/data/Stream.html" title="class in eu.fbk.knowledgestore.data">Stream</a>&lt;<a href="../../../../eu/fbk/knowledgestore/data/Record.html" title="class in eu.fbk.knowledgestore.data">Record</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/fbk/knowledgestore/datastore/DataTransaction.html#retrieve-org.openrdf.model.URI-eu.fbk.knowledgestore.data.XPath-java.util.Set-">retrieve</a></span>(org.openrdf.model.URI&nbsp;type,
        <a href="../../../../eu/fbk/knowledgestore/data/XPath.html" title="class in eu.fbk.knowledgestore.data">XPath</a>&nbsp;condition,
        <a href="http://java.sun.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;? extends org.openrdf.model.URI&gt;&nbsp;properties)</code>
<div class="block">Returns a stream of records having the type and matching the optional condition specified.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/fbk/knowledgestore/datastore/DataTransaction.html#store-org.openrdf.model.URI-eu.fbk.knowledgestore.data.Record-">store</a></span>(org.openrdf.model.URI&nbsp;type,
     <a href="../../../../eu/fbk/knowledgestore/data/Record.html" title="class in eu.fbk.knowledgestore.data">Record</a>&nbsp;record)</code>
<div class="block">Stores a record in the <code>DataStore</code>.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="lookup-org.openrdf.model.URI-java.util.Set-java.util.Set-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lookup</h4>
<pre><a href="../../../../eu/fbk/knowledgestore/data/Stream.html" title="class in eu.fbk.knowledgestore.data">Stream</a>&lt;<a href="../../../../eu/fbk/knowledgestore/data/Record.html" title="class in eu.fbk.knowledgestore.data">Record</a>&gt;&nbsp;lookup(org.openrdf.model.URI&nbsp;type,
                      <a href="http://java.sun.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;? extends org.openrdf.model.URI&gt;&nbsp;ids,
                      <a href="http://java.sun.com/javase/6/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
                      <a href="http://java.sun.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;? extends org.openrdf.model.URI&gt;&nbsp;properties)
               throws <a href="http://java.sun.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                      <a href="http://java.sun.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a>,
                      <a href="http://java.sun.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></pre>
<div class="block">Returns a stream of records having the type and IDs specified.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - the URI of the type of records to return</dd>
<dd><code>ids</code> - a set with the IDs of the records to return, not to be modified by the method</dd>
<dd><code>properties</code> - a set with the properties to return for matching records, not modified by the
            method; if null, all the available properties must be returned</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a stream with the records matching the IDs and type specified, possibly empty and
         in no particular order</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://java.sun.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - in case some IO error occurs</dd>
<dd><code><a href="http://java.sun.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - in case the type specified is not supported</dd>
<dd><code><a href="http://java.sun.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the <code>DataTransaction</code> has been already ended</dd>
</dl>
</li>
</ul>
<a name="retrieve-org.openrdf.model.URI-eu.fbk.knowledgestore.data.XPath-java.util.Set-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>retrieve</h4>
<pre><a href="../../../../eu/fbk/knowledgestore/data/Stream.html" title="class in eu.fbk.knowledgestore.data">Stream</a>&lt;<a href="../../../../eu/fbk/knowledgestore/data/Record.html" title="class in eu.fbk.knowledgestore.data">Record</a>&gt;&nbsp;retrieve(org.openrdf.model.URI&nbsp;type,
                        <a href="http://java.sun.com/javase/6/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
                        <a href="../../../../eu/fbk/knowledgestore/data/XPath.html" title="class in eu.fbk.knowledgestore.data">XPath</a>&nbsp;condition,
                        <a href="http://java.sun.com/javase/6/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
                        <a href="http://java.sun.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;? extends org.openrdf.model.URI&gt;&nbsp;properties)
                 throws <a href="http://java.sun.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                        <a href="http://java.sun.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a>,
                        <a href="http://java.sun.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></pre>
<div class="block">Returns a stream of records having the type and matching the optional condition specified.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - the URI of the type of records to return</dd>
<dd><code>condition</code> - an optional condition to be satisfied by matching records; if null, no condition
            must be checked</dd>
<dd><code>properties</code> - a set with the properties to return for matching records, not modified by the
            method; if null, all the available properties must be returned</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a stream over the records matching the condition and type specified, possibly empty
         and in no particular order</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://java.sun.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - in case some IO error occurs</dd>
<dd><code><a href="http://java.sun.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - in case the type specified is not supported</dd>
<dd><code><a href="http://java.sun.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the <code>DataTransaction</code> has been already ended</dd>
</dl>
</li>
</ul>
<a name="count-org.openrdf.model.URI-eu.fbk.knowledgestore.data.XPath-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>count</h4>
<pre>long&nbsp;count(org.openrdf.model.URI&nbsp;type,
           <a href="http://java.sun.com/javase/6/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
           <a href="../../../../eu/fbk/knowledgestore/data/XPath.html" title="class in eu.fbk.knowledgestore.data">XPath</a>&nbsp;condition)
    throws <a href="http://java.sun.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
           <a href="http://java.sun.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a>,
           <a href="http://java.sun.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></pre>
<div class="block">Counts the records having the type and matching the optional condition specified. This
 method performs similarly to <a href="../../../../eu/fbk/knowledgestore/datastore/DataTransaction.html#retrieve-org.openrdf.model.URI-eu.fbk.knowledgestore.data.XPath-java.util.Set-"><code>retrieve(URI, XPath, Set)</code></a>, but returns only the
 number of matching instances instead of retrieving the corresponding <code>Record</code>
 objects.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - the URI of the type of records to return</dd>
<dd><code>condition</code> - an optional condition to be satisfied by matching records; if null, no condition
            must be checked</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of records matching the optional condition and type specified</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://java.sun.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - in case some IO error occurs</dd>
<dd><code><a href="http://java.sun.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - in case the type specified is not supported</dd>
<dd><code><a href="http://java.sun.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the <code>DataTransaction</code> has been already ended</dd>
</dl>
</li>
</ul>
<a name="match-java.util.Map-java.util.Map-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>match</h4>
<pre><a href="../../../../eu/fbk/knowledgestore/data/Stream.html" title="class in eu.fbk.knowledgestore.data">Stream</a>&lt;<a href="../../../../eu/fbk/knowledgestore/data/Record.html" title="class in eu.fbk.knowledgestore.data">Record</a>&gt;&nbsp;match(<a href="http://java.sun.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;org.openrdf.model.URI,<a href="../../../../eu/fbk/knowledgestore/data/XPath.html" title="class in eu.fbk.knowledgestore.data">XPath</a>&gt;&nbsp;conditions,
                     <a href="http://java.sun.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;org.openrdf.model.URI,<a href="http://java.sun.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;org.openrdf.model.URI&gt;&gt;&nbsp;ids,
                     <a href="http://java.sun.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;org.openrdf.model.URI,<a href="http://java.sun.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;org.openrdf.model.URI&gt;&gt;&nbsp;properties)
              throws <a href="http://java.sun.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                     <a href="http://java.sun.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></pre>
<div class="block">Evaluates a <code>match</code> request with the parameters supplied. The operation:
 <ol>
 <li>Considers all the combinations <code>&lt;resource, mention, entity, axiom&gt;</code> such that
 <ul>
 <li><code>mention</code> <a href="../../../../eu/fbk/knowledgestore/vocabulary/KS.html#MENTION_OF"><code>KS.MENTION_OF</code></a> <code>resource</code>;</li>
 <li><code>mention</code> <a href="../../../../eu/fbk/knowledgestore/vocabulary/KS.html#REFERS_TO"><code>KS.REFERS_TO</code></a> <code>entity</code> (optional if no condition or
 projection on entities);</li>
 <li><code>mention</code> <a href="../../../../eu/fbk/knowledgestore/vocabulary/KS.html#EXPRESSES"><code>KS.EXPRESSES</code></a> <code>axiom</code> (optional if no condition or
 projection on axioms).</li>
 </ul>
 </li>
 <li>Filters the combinations so that optional <code>conditions</code> / <code>ids</code> selections
 on resource, mention, entity and axiom components are satisfied.</li>
 <li>Perform projection with duplicate removal of filtered combinations, keeping only the
 components occurring in <code>properties.keySet()</code>, returning for each component the
 subset of properties of <code>properties.get(component_type_URI)</code>.</li>
 </ol>
 In the maps supplied as parameters, components are identified by their type URI, that is
 <a href="../../../../eu/fbk/knowledgestore/vocabulary/KS.html#RESOURCE"><code>KS.RESOURCE</code></a>, <a href="../../../../eu/fbk/knowledgestore/vocabulary/KS.html#MENTION"><code>KS.MENTION</code></a>, <a href="../../../../eu/fbk/knowledgestore/vocabulary/KS.html#ENTITY"><code>KS.ENTITY</code></a> and <a href="../../../../eu/fbk/knowledgestore/vocabulary/KS.html#AXIOM"><code>KS.AXIOM</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>conditions</code> - a non-null map with optional component conditions, indexed by the component type
            URI; note the map may be possibly empty or contain conditions only for a subset
            of components</dd>
<dd><code>ids</code> - a non-null map with optional ID selections for different components, indexed by
            the component type URI; note the map may be possibly empty or contain selections
            only for a subset of components</dd>
<dd><code>properties</code> - a non-null, non-empty map with the properties to return for different
            components, indexed by the component type URI; if the set of property URIs
            mapped to a component is null or empty, then all the properties of the component
            should be returned; if a component is not referenced in the map, then it must
            not be returned</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <code>Stream</code> of combination records</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://java.sun.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - in case some IO error occurs</dd>
<dd><code><a href="http://java.sun.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the <code>DataTransaction</code> has been already ended</dd>
</dl>
</li>
</ul>
<a name="store-org.openrdf.model.URI-eu.fbk.knowledgestore.data.Record-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>store</h4>
<pre>void&nbsp;store(org.openrdf.model.URI&nbsp;type,
           <a href="../../../../eu/fbk/knowledgestore/data/Record.html" title="class in eu.fbk.knowledgestore.data">Record</a>&nbsp;record)
    throws <a href="http://java.sun.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
           <a href="http://java.sun.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></pre>
<div class="block">Stores a record in the <code>DataStore</code>. A record may or may not exist for the same ID; in
 case it exists, it is replaced by the newly specified record. In case the method call
 returns successfully, there is no guarantee that the write operation completed (e.g.,
 because of internal buffering); however, it is guaranteed (e.g., via internal flushing)
 that read operations called subsequently will see the result of the modification. In case
 the method call fails with an <code>IOException</code>, there is no guarantee that the
 <code>DataStore</code> is left in the same state it was at the time of calling.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - the URI of the type of record to store, not null</dd>
<dd><code>record</code> - the record to store, not null</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://java.sun.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - in case the operation failed, with no guarantee that the <code>DataStore</code> is
             left in the same state if was when the method was called; note that this
             exception may trigger a rollback on the caller side</dd>
<dd><code><a href="http://java.sun.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the <code>DataTransaction</code> has been already ended, or if it is read-only</dd>
</dl>
</li>
</ul>
<a name="delete-org.openrdf.model.URI-org.openrdf.model.URI-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delete</h4>
<pre>void&nbsp;delete(org.openrdf.model.URI&nbsp;type,
            org.openrdf.model.URI&nbsp;id)
     throws <a href="http://java.sun.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
            <a href="http://java.sun.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></pre>
<div class="block">Deletes the record stored in the <code>DataStore</code> with the ID specified.A record may or
 may not be stored for the specified ID; in case it exists, it is deleted by the operation.
 In case the method call returns successfully, there is no guarantee that the write
 operation completed (e.g., because of internal buffering); however, it is guaranteed (e.g.,
 via internal flushing) that read operations called subsequently will see the result of the
 modification. In case the method call fails with an <code>IOException</code>, there is no
 guarantee that the <code>DataStore</code> is left in the same state it was at the time of
 calling.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - the URI of the type of record to store, not null</dd>
<dd><code>id</code> - the ID of the record to delete, not null</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://java.sun.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - in case the operation failed, with no guarantee that the <code>DataStore</code> is
             left in the same state if was when the method was called; note that this
             exception may trigger a rollback on the caller side</dd>
<dd><code><a href="http://java.sun.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the <code>DataTransaction</code> has been already ended, or if it is read-only</dd>
</dl>
</li>
</ul>
<a name="end-boolean-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>end</h4>
<pre>void&nbsp;end(boolean&nbsp;commit)
  throws <a href="../../../../eu/fbk/knowledgestore/runtime/DataCorruptedException.html" title="class in eu.fbk.knowledgestore.runtime">DataCorruptedException</a>,
         <a href="http://java.sun.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
         <a href="http://java.sun.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></pre>
<div class="block">Ends the transaction, either committing or rolling back its changes (if any). This method
 always tries to terminate the transaction: if commit is requested but fails, a rollback is
 forced by the method and an <code>IOException</code> is thrown. If it is not possible either to
 commit or rollback, then the <code>DataStore</code> is possibly left in an unknown state and a
 <code>DataCorruptedException</code> is thrown to signal a data corruption situation that cannot
 be automatically recovered.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>commit</code> - <tt>true</tt> in case changes made by the transaction should be committed</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://java.sun.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - in case some IO error occurs or the commit request cannot be satisfied for any
             reason; it is however guaranteed that a forced rollback has been performed</dd>
<dd><code><a href="../../../../eu/fbk/knowledgestore/runtime/DataCorruptedException.html" title="class in eu.fbk.knowledgestore.runtime">DataCorruptedException</a></code> - in case it was not possible either to commit or rollback, which implies the
             state of the <code>DataStore</code> is unknown and automatic recovery is not
             possible (hence, data is corrupted)</dd>
<dd><code><a href="http://java.sun.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the <code>DataTransaction</code> has been already ended</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DataTransaction.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../eu/fbk/knowledgestore/datastore/DataStore.html" title="interface in eu.fbk.knowledgestore.datastore"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../eu/fbk/knowledgestore/datastore/ForwardingDataStore.html" title="class in eu.fbk.knowledgestore.datastore"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?eu/fbk/knowledgestore/datastore/DataTransaction.html" target="_top">Frames</a></li>
<li><a href="DataTransaction.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2015 <a href="http://www.fbk.eu">FBK-irst</a>. All rights reserved.</small></p>
</body>
</html>
